# Azure Sphere Temperature Monitor

:imagesdir: ../../doc/images

## Project description

The temperature sensor is queried periodically for the current temperature and humidity value.
The relay is switched on, if a temperature threshold is reached. This threshold can be
set by the rotary angle sensor. The default threshold can be set between 15°C and 25°C, but is
configurable in `config.h`.

The user buttons A and B can be used to increase and decrease the display contrast, respectively.

The current state of the system is displayed on the lcd screen:

* temperature
* humidity
* threshold
* contrast
* button and relay state

## Connected Grove devices

This project uses the following components from the 
https://www.seeedstudio.com/Grove-Starter-Kit-for-Azure-Sphere-MT3620-Development-Kit.html[Seeed Azure Sphere Starter Kit]

* Grove Shield
* 1.12" display on I2C
* Temperature and humidity sensor on I2C
* LED button on GPIO0
* Buzzer or Relay on GPIO4
* Rotary angle sensor (potentiometer) on ANALOG
* UART3 is left unconnected

## Generate hardware definition header

The header in `HardwareDefinitions\mt3620_rd\inc\hw\template_appliance.h` can be autogenerated based on the json
description located at `HardwareDefinitions\mt3620_rd\template_appliance.json`:

[source,bash]
----
cd HardwareDefinitions\mt3620_rd
azsphere hardware-definition generate-header --input template_appliance.json
----

This is only necessary in case the `template_appliance.json` is changed.

## Pictures of the hardware setup

image::azsphere_temperature_monitor2.jpg[System overview]
image::azsphere_temperature_monitor4.jpg[Display]
image::azsphere_temperature_monitor1.jpg[Connections on the shield]
image::azsphere_temperature_monitor3.jpg[Connected peripherals]